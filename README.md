## 장바구니 미션

## 기능 요구 사항

- 회원가입, 로그인, 회원 정보 조회, 비밀번호 수정, 회원 탈퇴를 제공하는 API 구현
- 전체 상품 조회, 단일 상품 조회, 장바구니 조회, 장바구니에 상품 추가, 장바구니 내 복수 상품 수정, 장바구니 내 복수 상품 삭제, 장바구니 삭제를 제공하는 API 구현

### 회원가입

- 회원가입 request : POST /users
    - [x] 중복되는 이메일이 존재하는 경우, 예외 메세지와 함께 상태코드 400을 반환한다.
    - [x] 중복되는 이름이 존재하는 경우, 예외 메세지와 함께 상태코드 400을 반환한다.
    - [x] 이름, 이메일 혹은 비밀번호가 공백이거나 누락된 경우, 상태코드 400을 반환한다.
    - [x] 이메일이 지정된 형식(ex. alpha@naver.com)이 아닌 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 201을 반환한다.

### 로그인

- 로그인 request : POST /login
    - [x] 이메일 혹은 비밀번호 중 하나라도 공백이거나 누락된 경우, 상태코드 400을 반환한다.
    - [x] 이메일이 지정된 형식(ex. alpha@naver.com)이 아닌 경우, 상태코드 400을 반환한다.
    - [x] DB에 저장되지 않은 이메일으로 로그인을 시도하는 경우, 상태코드 400을 반환한다.
    - [x] 이메일에 대응되는 비밀번호가 아닌 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 토큰과 함께 상태코드 200을 반환한다.

### 자동 로그인

- 자동 로그인 request : POST /token/refresh
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 요청 성공시, 토큰과 함께 상태코드 200을 반환한다.

### 회원 정보 조회

- 회원 정보 조회 request : GET /users/me
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 요청 성공시, 상태코드 200을 반환한다.

### 비밀번호 수정

- 비밀번호 조회 request : PATCH /users/me
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 기존 비밀번호 혹은 신규 비밀번호 중 하나라도 공백이거나 누락된 경우, 상태코드 400을 반환한다.
    - [x] 기존 비밀번호가 DB에 저장된 비밀번호와 일치하지 않은 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 200을 반환한다.

### 회원 탈퇴

- 회원 탈퇴 request : DELETE /users/me
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 비밀번호가 공백이거나 누락된 경우, 상태코드 400을 반환한다.
    - [x] 기존 비밀번호가 DB에 저장된 비밀번호와 일치하지 않은 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 204를 반환한다.

### 전체 상품 조회

- 전체 상품 조회 request : GET /products?:size&:page
    - [x] 한 페이지 내 상품 수가 자연수가 아닌 경우, 상태코드 400을 반환한다.
    - [x] 한 페이지 내 상품 수, 혹은 페이지가 숫자가 아닌 경우나 누락인 경우, 상태코드 400을 반환한다.
    - [x] 페이지가 자연수가 아닌 경우, 상태코드 400을 반환한다.
    - [x] 페이지가 최대 페이지 보다 큰 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 200을 반환한다.

### 단일 상품 조회

- 단일 상품 조회 request : GET /products/:productId
    - [x] DB에 저장되어 있지 않는 상품 ID의 경우, 상태코드 400을 반환한다.
    - [x] 상품의 ID가 숫자가 아닌 경우나 누락인 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 200을 반환한다.

### 단일 상품 추가

- 단일 상품 추가 request : POST /cart
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 추가하려는 항목의 수량이 자연수가 아닌 경우, 상태코드 400을 반환한다.
    - [x] 유효하지 않은 사용자의 장바구니일 경우, 상태코드 400을 반환한다.
    - [x] 추가하려는 상품의 id가 음수거나 존재하지 않을 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 200을 반환한다.

### 장바구니 조회

- 장바구니 조회 request : GET /cart
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 요청 성공시, 상태코드 200을 반환한다.

### 장바구니 내 복수 상품 삭제

- 장바구니 내 복수 상품 삭제 request : DELETE /cart
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 유효하지 않은 사용자의 장바구니일 경우, 상태코드 400을 반환한다.
    - [x] 삭제하려는 장바구니 항목의 id가 음수거나 존재하지 않을 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 204를 반환한다.

### 장바구니 내 복수 상품 수정

- 장바구니 내 복수 상품 수정 request : PATCH /cart
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 바꾸려는 항목의 수량이 자연수가 아닌 경우, 상태코드 400을 반환한다.
    - [x] 유효하지 않은 사용자의 장바구니일 경우, 상태코드 400을 반환한다.
    - [x] 바꾸려는 장바구니 항목의 id가 음수거나 존재하지 않을 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 200을 반환한다.

### 장바구니 삭제

- 장바구니 삭제 request : DELETE /cart/all
    - [x] 유효하지 않은 토큰을 사용할 경우, 상태코드 401을 반환한다.
    - [x] 존재하지 않는 장바구니를 삭제하는 경우, 상태코드 400을 반환한다.
    - [x] 요청 성공시, 상태코드 204를 반환한다.
